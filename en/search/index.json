[{"content":" ‚ö†Ô∏è Please note that the content here was translated by a large language model.\nWelcome‚Äî‚Äî Welcome to my life \u0026amp; tech blog! A solitary life also needs to maintain a sense of outward expression. I wanted to satisfy some \u0026ldquo;desire to share\u0026rdquo; in a place not constrained by content and form, so I established this site at the end of 2024 and have been exploring and improving it since. Initially, I quickly built a blog using Hugo and the Stack theme template, writing some life records and tech shares. Later, I realized that most of my tech shares were not efficient (neither spreading some novel thoughts nor fully serving as a knowledge repository for me). At the beginning of 2026, I rebuilt the blog based on the v3.33.0 branch of Stack and made some modifications with my limited front-end skills according to my ideas. This time, I plan to focus on life archiving (such as recording travel experiences, sharing annual summaries, etc.) and occasionally write some reflections on research. Due to limited energy, I may not write or update very frequently, and of course, the text and form will be more casual. Additionally, I have set up a personal photo album, hoping to archive some meaningful photos, temporarily named Cached Memory.\nProbably not many people will see this blog; I will only share it within a certain range of friends, though it also supports Bing and Google searches. So, the main purpose of writing the blog is to record life and entertain myself. Anyway, no matter how you accessed here, I feel honored. Your arrival is also part of the reason I created this blog.\nSome Tips If you want to check out other blogs, please click here; if you want to know more about me and this site, please click here; if you want to categorize blog posts by tags, please click here; if you want to search for interesting content by title or keyword, please click here; if you want to view friend links, please click here. This is just a simple introduction to the menu on the left. Of course, you can also find my contact information, and you can switch languages (supporting Simplified Chinese, English, and Japanese) and toggle light/dark themes using the button at the bottom left. If you have any thoughts, feel free to leave a comment below (though utterances require a GitHub account).\n","date":"2026-01-01T00:00:00Z","image":"https://kambri.top/p/welcome/img/cover_hu_da9268f64eeb14d7.jpg","permalink":"https://kambri.top/en/p/welcome/","title":"Hello World!"},{"content":" ‚ö†Ô∏è Please note that the content here was translated by a large language model.\nDay 1 - Osaka We left very early that day. First, we took a flight departing at 6:30 from Wenzhou Longwan to Shanghai Pudong, then caught a flight at 10:05, arriving at Kansai Airport before 13:30 local time.\nWaiting for the flow SIM card, waiting for checked luggage, exchanging ICOCA cards took up quite some time.\nThen took the Nankai Airport Line / Nankai Main Line to Nankai Namba Station, transferred (got lost at Namba Station for a long time) to the Midosuji Line to Honmachi Station, and finally checked into THE BASEMENT HOTEL Osaka Honmachi in the evening. This hotel opened in 2025, has very good reviews, and a great location (Honmachi is close to many famous Osaka attractions, but the downside is frequent transfers).\nAfter check-in, hurried to the happy hour for some supplies, took a quick look at the high-rise view, then prepared to set off and officially start the trip!\nThe first stop was planned to be Osaka Castle Park in the east, and also to check out the Osaka Prefectural Police Headquarters, but I miscalculated! First, it was still quite bright when we left, but by the time we arrived, it was completely dark, and the roads around Osaka Castle Park are almost without streetlights, very dark, which made the experience somewhat average; second, the weather forecast was misleading‚Äîsince it was confirmed not to rain, we didn\u0026rsquo;t bring an umbrella, but as soon as we reached the foot of the castle keep, it started pouring heavily. We could only quickly snap a couple of photos and then sadly hide in Osaka Castle Miraiza to wait out the rain.\nThe trip started off badly. Taking advantage of the light rain easing, we hurried back to the hotel for a rest. After the rain stopped, we went out to find dinner. We walked to Shinsaibashi and finally chose New SUSHI Center in the PARCO B2 food street. Tried ankimo (monkfish liver) which I never got to eat at Sushi-Ro, feeling it was so-so; but the squid sashimi amazed us, so we ordered another. Other dishes were quite good (but not outstanding), and the prices were reasonable with high cost-performance. Dinner was finished around 19:30. PARCO and the nearby Dotonbori Marui were closing soon (why are shops near Shinsaibashi closing so early?), so we didn\u0026rsquo;t have time to visit the Pok√©mon Center and Montbell, leaving those for next time.\nThinking about the UNIQLO Thank You Sale discount deadline, I bought some clothes at UNIQLO in Shinsaibashi. After tax, the prices were still very attractive. After a quick check-in photo under the Glico sign in Dotonbori, I found a seemingly good milk tea shop (Koi Th√©), bought a cup, but it was just so-so (and 560 yen‚Äîvery expensive).\nHonestly, I still can\u0026rsquo;t clearly distinguish the boundaries of Shinsaibashi and Dotonbori‚Äîjust consider it one area and wander around aimlessly.\nPassing by Hozenji Yokocho, there‚Äôs a statue of Mizugame Fud≈ç My≈ç-≈ç, so I poured some water on it. Nearby, the couple‚Äôs Zenzai (sweet red bean soup) was also marked earlier, but unfortunately I had no appetite to eat more. Finally, casually visited a BookOff nearby, and the first day‚Äôs itinerary ended! Back at the hotel, I definitely needed a bath‚Äîvery relaxing, though a bit dizzy after soaking too long. Today didn‚Äôt go very smoothly, but after arriving in a foreign country, I roughly got familiar with transportation and shopping procedures, and later on, it became much smoother.\nDay 2 - Osaka My friend isn‚Äôt very fond of breakfast, so I usually buy rice balls at convenience stores the day before. Japanese convenience store rice balls are really delicious, especially the tofu skin rice ball and cod roe rice ball, which I love deeply. Today‚Äôs main plan was to visit the area near Tennoji Zoo in southern Osaka, and to make up for the early closing of PARCO and Daimaru yesterday. Starting from Honmachi, take the Chuo Line, transfer at Tanimachi 9-chome to Tanimachi Line, get off at Tanimachi 9-chome, then take the Yotsubashi Line to Yotsubashi Station, and from there take the Osaka City Bus No. 207 at Shijo Takakura to Kiyomizu-dera. Then walk to Kiyomizu-zaka, which takes about 1 hour 40 minutes (880 yen, not expensive, but a JR limited express would be much pricier).\nEntry to Kiyomizu-dera costs 500 yen, but unfortunately, the main deity shrine was closed for maintenance that day. The autumn leaves here are very vibrant, giving a ‚ÄúTang red love song‚Äù vibe, but after the intense walking the past two days and today‚Äôs early start, I was really exhausted.\nAround 8 a.m., the sales window for amulets and omikuji (fortune slips) opens. I bought lucky cherry bells, gold fortune charms, protective amulets, love charms, and happiness charms (activated the strange charm button, but I really liked these little trinkets, and they laid the groundwork for buying various charms later). Then drew a 100-yen omikuji, which turned out to be a half-kichi (semi-good luck).\nBy around 8:30, I finished visiting Kiyomizu-dera. Then strolled through Ninenzaka and Sannenzaka, but it was still too early, most shops hadn‚Äôt opened yet. There‚Äôs a very Japanese-style Starbucks here, but it was crowded with white people.\nFeeling very hungry and tired, I looked for a place to sit and rest. I randomly chose a caf√© called Teshigoto no Mise Mokumoku and ordered a brunch coffee set, but\u0026hellip; as shown in the picture, it was not tasty at all, not recommended.\nToo exhausted to walk further to Yasaka Shrine, I instead visited Kennin-ji, which is along Hanami-koji Street. Since I arrived quite early, Hanami-koji was very quiet, many shops hadn‚Äôt opened yet. Kennin-ji costs 800 yen, requires removing shoes, and the floors are cold and icy, but warmed up where the sun shone. Sitting in the courtyard, the scenery was very peaceful, and the garden was beautifully landscaped.\nBy the way, Kennin-ji‚Äôs toilets are extremely clean and comfortable.\nNext, I passed by the Kamo River and headed to Ichiran (Kyoto Kawaramachi branch) for the ramen I‚Äôve been craving. Since it was my first time, I ordered conservatively via the vending machine: extra noodles, chashu, and shio (salt) flavored egg (but they didn‚Äôt give me the egg). Later, I added another egg and rice. Honestly, after finishing the ramen, using the leftover broth to make rice porridge was divine‚Äîan explosion of oil, salt, and carbs.\nThen went to Itohkyuemon (Gion Shijo branch) for desserts and souvenirs. This shop is similar to the Uji branch. As souvenirs, I started enjoying various matcha treats after returning home, all very satisfying. I personally liked Tsujiri Kyoto Lang (like a white chocolate matcha version), Tsujiri rusk, and Itohkyuemon Chayugetsu. They support tax-free shopping, and after purchase, they give a dessert voucher to use upstairs (though we ate upstairs before shopping).\nNext, took the Keihan Main Line to Demachiyanagi Station, then about a 10-minute walk to Shimogamo Shrine, passing through Kamo River Delta, Kamo River Park, and Kamo Shrine. Shimogamo Shrine is my favorite shrine on this trip‚Äîunfortunately, many scenes are in action (not nearby), so I‚Äôll upload photos again when I have time. Bought a beautiful seasonal red leaf üçÅ charm here!\nIn the evening, took the Keihan Main Line back home. After returning to the hotel, I found a well-rated izakaya nearby (Umi no Yatai Okuman Nishi Honmachi). The owner was very enthusiastic, and a neighboring table was a very talkative Japanese student studying abroad, telling us this izakaya has great value for money. We ordered about ten dishes for around 5000 yen, and ate until full\u0026hellip;\nDay 4 - Hyogo Today‚Äôs plan was to visit Hyogo Prefecture (mainly Himeji City and Kobe City). Since the schedule was quite packed, I got up very early and headed to Himeji. We took the Shinkansen to Nishimaeda, then transferred at Osaka Station to the Tokaido/Sanyo Line, passing through Kobe, Akashi, Kakogawa, and arriving at Himeji. Facing left on the train, you can clearly see the Seto Inland Sea and Akashi Kaikyo Bridge‚Äîspectacular. The one-way trip took about an hour and a half (1860 yen). Regrettably, I didn‚Äôt buy a mini JR pass; a round trip in one day would have paid off.\nThe weather was very good today. I got off at Himeji Station and walked straight to Himeji Castle, noticing many Himeji-style manhole covers along the street. When planning this Hyogo trip, I hesitated whether it was worth rushing from Osaka just to see Himeji Castle. But when I saw this UNESCO World Heritage site from afar, I was certain that the choice was right.\nIt somehow reminded me of Potala Palace in Lhasa‚Äîmaybe because both are called ‚ÄúWhite Wall Cities.‚Äù The visiting routes are similar: walking through the buildings along a designated one-way route, but I believe the experience at Himeji Castle is much better. Entry costs 1000 yen (soon to increase to 2500 yen). We bought a combined ticket for Himeji Castle and Koko-en Garden (only an extra 50 yen).\nFollowing the recommended route on the map, first visited Nishinomaru Palace (about 10-15 minutes), then went to Tenshukaku. Inside requires removing shoes and putting them in plastic bags (which is a bit inconvenient). As a fan of wooden structures, I really enjoyed the view of Himeji Castle.\nAfter leaving Himeji Castle, I headed to Koko-en Garden nearby. I didn‚Äôt have high expectations, but the autumn scenery was surprisingly rich, and I lingered to enjoy the maple leaves for a long time.\nBack at the JR station, I bought a Himeji White Wall Pudding (520 yen) at the Himeji Castle Ohi-zamoto Shiro Purin. The ‚ÄúWhite Wall‚Äù probably refers to the biscuit crumbs sprinkled on top, and it tasted quite good. I wanted to bring it home as a souvenir, but it‚Äôs not very storable, which is a pity. Finally, I went to Nikaimachi‚Äôs Unatoto for a simple eel rice set (1000 yen) for lunch.\nTraveling just in the morning to visit Himeji City felt a bit rushed. Even though we left very early, it was around 1:30 p.m. when we left Himeji. The original plan was to go directly to Kobe, but on a whim, I wanted to visit the Sakai Holy Land to see the residence of Saber (Fate series), so I parted ways with my friend at Akashi Station. Luckily, Oda‚Äôs family residence is not far from Akashi Station (about 10 minutes walk). Still a bit regretful‚Äîif I had more time, I‚Äôd love to see Maiko and get a closer look at the Akashi Kaikyo Bridge.\nArrived at Kobe Sannomiya Station around 3:30 p.m., much later than expected. Planned to visit Ikuta Shrine first, then do a pilgrimage of the Sangu Mansion and Rinkei‚Äôs residence in Kitano Ijinkan. Ikuta Shrine is a place believed to bring good relationships, health, and safe childbirth. The water fortune is famous, but I felt it was too troublesome, so I just bought a love charm (hope it works!).\nThen headed to Kitano Ijinkan. I didn‚Äôt expect the terrain to be so steep‚Äîlike climbing a mountain (respect to the residents living nearby). Due to limited time, I moved quickly and was already sweating heavily when I reached the Uroko House (Rinkei‚Äôs residence). The ticket was 1100 yen, and I felt it wasn‚Äôt worth it just for a quick visit, so I didn‚Äôt go inside. Then I descended to the F≈´mi-ki no Yakata (Rinkei‚Äôs residence), which has a Meiji and Western style. That day, a couple was also nearby taking wedding photos.\nIn the evening, took bus 92 to Sannomiya Shrine, then headed to Meriken Park to meet friends. It was around blue hour into night, and by the time we reached the Meriken Park coast, the horizon was almost invisible‚Äîdisappointing. Glanced at Kobe Port Tower, then went to find dinner. Originally planned to try Kobe beef, but most places were expensive and portions small\u0026hellip; Finally, we went to Kyoto Katsugyu in Sannomiya underground shopping street (got lost for a long time) and had a fried beef steak set meal. The set cost 3619 yen, but the portion was still very small (the rice felt barely enough to fill my teeth!).\nFinally, my personal favorite‚Äîvisiting the Kobe Bridge! From Sannomiya Station, took the New Transit Harbor Island Line to the ferry terminal, then walked across Kobe Bridge to Port Island Kita Park. This is on the artificial island where Kobe Airport is located. In the evening, around 7-8 p.m., the train here is usually empty, with many travelers carrying luggage. I did a Fate/Grand Order pilgrimage here. The sea breeze was strong at night, so be sure to keep warm. The one-day Hyogo trip ended with Kobe Bridge. We then returned to Sannomiya Station and took the Tokaido/Sanyo Line back to Osaka.\nDay 5 - Osaka, Nara Today, we checked out of the Osaka hotel and checked into a hot spring hotel near Nara Station, so the schedule was more relaxed. Originally planned to visit Expo Memorial Park, but changed plans at the last minute. After storing luggage at the hotel, we first went to Sumiyoshi Taisha. Sumiyoshi Taisha is the head shrine of over 2,000 Sumiyoshi shrines in Japan, with over a thousand years of history.\nThe Sorihashi Bridge has a steep incline of 48 degrees‚Äîvery steep. Since we were already here, we also strolled through Sumiyoshi Park. Crossing the park, you enter a residential area with many overhead power lines, a stark contrast in style. Many locals come here for picnics.\nAround noon, we arrived at Kuromon Market for lunch, choosing to eat at G≈çkaku Rissh≈ç Sushi. The sea urchin wasn‚Äôt as good as expected, and the sashimi wasn‚Äôt very cleanly prepared, but the taste was decent, and the value was high.\nThen wandered around Kuromon Market, bought some takoyaki, but it had pickled ginger inside‚ÄîI don‚Äôt like that; also bought unsweetened iced soy milk at Takahashi Tofu Shop, which had an indescribable taste (probably because it‚Äôs unsweetened).\nThere was still some time before checking into the Nara hotel, so I revisited Osaka Castle Park to make up for the first day‚Äôs regret. This time, I saw the Osaka Prefectural Police Headquarters and Tenshukaku during the daytime.\nIn the afternoon, checked into the Nara Onsen Hotel, which is about 200 meters from Nara Station‚Äîvery convenient. The hotel‚Äôs rooms are all tatami, requiring shoes to be removed (they provide split-toe socks). The highlight is the natural hot spring large bath ‚ÄúYoshino Sakura no Yu,‚Äù open from 3 p.m. to 10 a.m. the next day. I heard the breakfast here is excellent, so I added a 2500 yen breakfast.\nThe hotel area is very well equipped‚Äîconvenience stores, drugstores, JR station nearby, many good restaurants within walking distance. After resting until evening, we went to a nearby okonomiyaki restaurant (Suga-machi Okonomiyaki) for more Osaka-style pancakes. The place isn‚Äôt big, run by a kind old lady, seating only about four or five tables. Many locals and tourists from around the world dine here. The taste is good, and the price-performance ratio is high.\nThen took bus 28 to Montbell in Nara. This Montbell is large, with discounts on some old models on the second floor (found a plaid shirt). Also bought a fisherman\u0026rsquo;s hat and a Stream Parka shell jacket (wallet cried). Although tax-free, there‚Äôs about a 3% extra fee. (No idea why Montbell doesn‚Äôt like to put English labels, had to struggle with katakana).\nThe bus back runs only every half hour, and it‚Äôs about a half-hour walk back to the hotel, so I chatted along the way and walked back to the city. The evening city was very quiet. After returning, of course, I enjoyed the hot spring and had some soy sauce ramen.\nDay 6 - Nara Although staying three nights in Nara, we only had one day to explore. The main route was around Todai-ji, Nara Park, and Kasuga Taisha, skipping the more distant Yakushiji and H≈çry≈´-ji.\nWe first enjoyed a delicious breakfast (buffet style) at the hotel, then headed to K≈çfuku-ji. From there, you can see more and more deer herds, and many places sell deer crackers for 200 yen per portion. But after being bitten by a stray cat in the dorm earlier this year and getting rabies shots, I was too scared to feed the deer all day, only gently touching their backs when others did.\nThen went to Todai-ji, where I met very cute little deer on the way. The exterior of Todai-ji looks very grand‚Äîworthy of being a UNESCO World Heritage site.\nThroughout the day, I saw many elementary and middle school groups visiting for educational tours. I envy them from the bottom of my heart‚Äîmy school days only involved studying.\nLeaving Todai-ji, we crossed Nara Park and planned to visit Kasuga Taisha. Since there weren‚Äôt many dining options nearby, we had a simple tempura udon at Mizutani Chaya on the hillside, which was straightforward but tasty. Kasuga Taisha is very beautiful, but no photos allowed inside, so I can only say it‚Äôs very impressive.\nThen we went to Wakakusa-yama. I thought it was just a small hill, but unexpectedly, I got caught in a strenuous climb. Finally, I reached the top after a tough effort, and the view was quite nice.\nEvery year on the fourth Saturday of January, there‚Äôs a Wakamusa-yama fire festival. During that time, the mountain is closed.\nOriginally, I wanted to wait for sunset here, but it was two hours away, so I couldn‚Äôt wait and descended early. The path from Kasuga Taisha to Ichinomiyamichi is very quiet, perhaps with a hint of Zen.\nAfter descending, I hurried to Nakatanido to buy the famous matcha mochi, which only opened in the morning but wasn‚Äôt open when I passed earlier. In the evening, I went to Takenoya for oden. This shop is more famous than I thought, usually requiring reservations, but I was lucky to get a seat without one. The menu was hard to understand, so I ordered everything from the bottom row‚Äîsomewhat expensive, but the taste was okay, decent overall. Before returning to the hotel, I bought some rice balls with tofu skin, salmon, and a Tianjin rice bowl at Lawson. The instant Tianjin rice was terrible.\nDay 7 - Kyoto The original plan was to visit Fushimi Inari Taisha in the morning, then go to Uji in the afternoon, buy souvenirs, enjoy matcha afternoon tea, and admire the Uji River. But halfway through, I felt unwell, so after visiting Fushimi Inari, I parted ways with my friend and took the Kintetsu Line back to Nara.\nTaking the JR Nara Line to Inari Station, I finally saw the sacred place in the anime‚ÄîFushimi Inari Taisha! When I arrived at the main hall, a ceremony was happening‚ÄîI didn‚Äôt know what it was, but it looked very solemn and sacred.\nFushimi Inari Taisha is the head shrine of over 30,000 Inari shrines, located at the foot of Mount Inari. Naturally, I had to climb the mountain again‚Äîso tiring! But I really admire how people built so many torii gates on the mountain.\nDescending from Inari Mountain, I already felt some discomfort. In the afternoon, I probably didn‚Äôt have the energy to explore Uji, so I bought souvenirs at Kyoto Station‚Äôs PLUSTA (note: this shop is not tax-free). Then, I went to Ichiran Ramen (Uky≈ç Branch) for another bowl before heading back to Nara.\nWorried about developing a high fever the next day and missing the flight, I bought a digital thermometer (around 2700 yen, with a drop of blood). Should have brought it with my carry-on‚Äîthought I wouldn‚Äôt need it.\nDay 8 - Osaka Travel day! After checking out, we carried our luggage and took the Yamato route / Osaka Loop Line to Shin-Imamiya, then transferred to the Nankai Line towards Kansai Airport. The flight was at 2 p.m., so we planned to get off at Rinku Town and visit the outlet mall. Although most sports brands here are not tax-free, prices are very favorable compared to China, so I bought a few pairs as souvenirs. Limited time, so no leisurely visit to Rinku‚Äôs Shirayuki Beach‚Äîhad to rush to the airport.\nFinally, bought a very delicious pudding from 7-Eleven at the airport to bring back for my sister. Perfect ending to the Kansai trip‚Äî\nEpilogue So tired! Sorting photos, reminiscing about the trip, and writing this blog took several days. This Kansai trip was truly enjoyable. During the journey, I recorded many first-person footage (about 200GB) with Action cameras. When I have time, I‚Äôll select and organize them to upload in a suitable way.\nMain shooting devices: OnePlus Ace 3, DJI Action 5 Pro\nTravel planning map: Google Map - Kansai (the planning map made before the trip, marking planned or potential destinations)\n","date":"2026-01-22T00:00:00Z","image":"https://kambri.top/p/travel/img/cover_hu_6cb61925a1ce5448.jpg","permalink":"https://kambri.top/en/p/travel/","title":"First encounter with Kansai'sÊµÅÊ∞¥Ë¥¶"},{"content":" ‚ö†Ô∏è Please note that the content here was translated by a large language model.\nRecently, I have been dealing more with the machine room, responsible for coordinating engineers who installed newly purchased machines for the Sanjiangyuan Data Analysis Center and the college\u0026rsquo;s operations teachers. So, I am summarizing the experience of building a high-performance cluster during this period.\nHardware Assembly The newly purchased complete servers come with hard drives, memory sticks, Ethernet network cards, and RAID cards already installed. Be sure to ensure that both the main power and backup power are lit during startup. The machine configurations are as follows: two machines with dual Intel processors and two with dual AMD processors. The RDMA network cards were purchased separately: Mellanox MT28908 (ConnectX-6). We borrowed 8 NVIDIA A800 80GB PCIe cards from the High-Performance Computing Center, with an expected topology of four machines and eight cards.\nServer CPU Memory Hard Disk H3C UniServer R4900 G6 Intel(R) Xeon(R) GOLD 6542Y(250w)√ó2 32G DDR5 5600√ó8 960G SSD√ó2 + 4TB SATA√ó3 + RAID PM8204-2G H3C UniServer R4950 G6 AMD EPYC 9654 96-Core Processor(360w)√ó2 32G DDR5 4800√ó8 960G SSD√ó2 + 4TB SATA√ó3 + RAID PM8204-2G Creating Bootable USB Drive Prepare a bootable ISO, burning software (Rufus or UltraISO), and a USB drive (preferably USB 3.0). Here, we choose the server-side Ubuntu Server 22.04.5 LTS (the previous long-term support version of Ubuntu Server, supported until April 2027). Download the bootable ISO from the Ubuntu official website.\nNext, use the burning software to write the image to the disk. For UltraISO, select the write mode as USB-HDD+; for Rufus, set the target system type to BIOS or UEFI. Configure the filesystem and other settings as needed. After formatting the USB drive, write the system image (about 2-3 minutes).\nSoftware Network Configuration Usually, during system installation, network configuration is not set initially. After installation, check the network interface names with ip link show. Then, edit /etc/netplan/50-cloud-init.yaml as follows:\n1 2 3 4 5 6 7 8 9 10 11 12 13 # ... network: ethernets: ens16f0: addresses: - \u0026lt;A.B.C.D\u0026gt;/24 nameservers: addresses: [] search: [] routes: - to: default via: \u0026lt;A.B.C.D\u0026gt; version: 2 Setting the root password 1 2 su root passwd root Disabling Linux Kernel Automatic Updates If not disabled, after each apt update, it will prompt whether to restart services and update. To prevent this, modify the parameters in /etc/apt/apt.conf.d/10periodic and /etc/apt/apt.conf.d/20auto-upgrades to 0.\nsudo vim /etc/apt/apt.conf.d/10periodic\nUpdate to:\n1 2 3 APT::Periodic::Update-Package-Lists \u0026#34;0\u0026#34;; APT::Periodic::Download-Upgradeable-Packages \u0026#34;0\u0026#34;; APT::Periodic::AutocleanInterval \u0026#34;0\u0026#34;; sudo vim /etc/apt/apt.conf.d/20auto-upgrades\nUpdate to:\n1 2 APT::Periodic::Update-Package-Lists \u0026#34;0\u0026#34;; APT::Periodic::Unattended-Upgrade \u0026#34;0\u0026#34;; Reverse Proxy Since the compute nodes are not connected to the internet, use the local machine as a jump host for reverse proxy.\nModify Users/username/.ssh/config:\n1 2 3 4 5 Host \u0026lt;hostname\u0026gt; HostName \u0026lt;IP\u0026gt; Port \u0026lt;port\u0026gt; User \u0026lt;username\u0026gt; RemoteForward \u0026lt;Port1\u0026gt; 127.0.0.1:\u0026lt;Port2\u0026gt; Additionally, recently learned that in .ssh/config, you can configure ProxyJump for seamless jump connections. Note that for passwordless login, the public key must be added to the destination host\u0026rsquo;s ~/.ssh/authorized_keys.\n1 2 3 4 5 6 7 8 9 10 11 12 Host \u0026lt;hostname\u0026gt; HostName \u0026lt;IP\u0026gt; Port \u0026lt;port\u0026gt; User \u0026lt;username\u0026gt; RemoteForward \u0026lt;Port1\u0026gt; 127.0.0.1:\u0026lt;Port2\u0026gt; Host \u0026lt;destination\u0026gt; HostName \u0026lt;IP\u0026gt; Port \u0026lt;port\u0026gt; User \u0026lt;username\u0026gt; ProxyJump \u0026lt;hostname\u0026gt; RemoteForward \u0026lt;Port1\u0026gt; 127.0.0.1:\u0026lt;Port2\u0026gt; Useful Preparations 1 2 3 4 5 6 7 8 9 10 11 # Disable Linux automatic sleep echo \u0026#34;\\$nrconf{kernelhints} = 0;\u0026#34; \u0026gt;\u0026gt; /etc/needrestart/needrestart.conf echo \u0026#34;\\$nrconf{restart} = \u0026#39;l\u0026#39;;\u0026#34; \u0026gt;\u0026gt; /etc/needrestart/needrestart.conf systemctl mask sleep.target suspend.target hibernate.target hybrid-sleep.target # Update apt and apt-get apt update apt upgrade apt-get update apt-get upgrade # Install necessary components apt install git wget vim curl htop net-tools pciutils build-essential Disk Partitioning If disks are not recognized, errors like block probing did not discover any disks may occur during system installation. Check if the disks and RAID cards are lit.\n1 2 3 4 5 6 7 8 9 10 11 12 13 lsblk # Confirm new disk device names (e.g., /dev/sdX) sudo pvcreate /dev/sdb /dev/sdc /dev/sdd # Create physical volumes sudo vgcreate vg_home /dev/sdb /dev/sdc /dev/sdd # Create volume group vgdisplay # Check volume group info sudo lvcreate -l 100%FREE -n lv_home vg_home # Create logical volume using all space sudo mkfs.ext4 /dev/vg_home/lv_home # Format logical volume as ext4 sudo mount /dev/vg_home/lv_home /home # Mount to /home # Auto-mount on boot sudo blkid /dev/vg_home/lv_home # Get UUID sudo vim /etc/fstab \u0026gt;\u0026gt;\u0026gt; UUID=\u0026lt;UUID\u0026gt; /home ext4 defaults 0 2 sudo mount -a df -a # Verify NFS Shared Filesystem 1 sudo apt install nfs-kernel-server nfs-common rdma-core # All nodes execute NFS Server Node 1 2 3 4 5 6 7 8 9 sudo mkdir -p /home sudo chmod 777 /home sudo vim /etc/exports \u0026gt;\u0026gt;\u0026gt; /home *(rw,sync,no_root_squash) sudo vim /etc/nfs.conf # Enable RDMA \u0026gt;\u0026gt;\u0026gt; [nfsd] \u0026gt;\u0026gt;\u0026gt; rdma=y sudo systemctl restart nfs-kernel-server sudo systemctl enable nfs-kernel-server Client Nodes 1 2 3 4 sudo mount -o rdma,vers=4.2 \u0026lt;server_ip\u0026gt;:/home /home df -h | grep /home # Check if mounted successfully sudo vim /etc/fstab # Set auto-mount at startup \u0026gt;\u0026gt;\u0026gt; \u0026lt;server_ip\u0026gt;:/home /home nfs4 rdma,vers=4.2 0 0 Verify RDMA transfer:\n1 2 mount | grep /home cat /proc/fs/nfsfs/servers # Check if transport column is rdma InfiniBand Driver Download drivers: NVIDIA InfiniBand Software | NVIDIA | NVIDIA Developer\nMLNX_OFED: Linux InfiniBand Drivers\nFor older IB versions, be sure to check the Release Notes for support.\nCheck IB devices:\n1 lspci | grep -i mell Start IB\u0026rsquo;s opensm service:\n1 2 3 4 5 6 # If not installed sudo apt update \u0026amp;\u0026amp; sudo apt upgrade -y sudo apt install opensm infiniband-diags ibutils perftest -y sudo systemctl start opensm systemctl status opensm sudo systemctl enable opensm # Auto-start on boot Verify IB device recognition:\n1 2 ibv_devinfo ibstat Test server and client IB bandwidth:\n1 2 3 ibv_devices # Query device name, e.g., mlx5_0 ib_read_bw -a -d \u0026lt;device_name\u0026gt; --report_gbits # Server ib_read_bw -a -F \u0026lt;ip_addr\u0026gt; -d \u0026lt;device_name\u0026gt; --report_gbits # Client (-a tests all message sizes, -F forces connection to server (server must be started first), --report_gbits shows bandwidth in Gbps) Set IB MTU (Maximum Transmission Unit):\n1 2 ifconfig | grep ib # Query ifconfig ib0 mtu 65520 # Ensure both machines\u0026#39; IB interfaces have the same MTU Simple test: ibping and ibping \u0026lt;ip_addr\u0026gt;\nCUDA Disable/Uninstall Nouveau Driver (Optional) 1 sudo vim /etc/modprobe.d/blacklist.conf Add the following lines at the end:\n1 2 blacklist nouveau options nouveau modeset=0 Rebuild initramfs and reboot to apply:\n1 2 sudo update-initramfs -u sudo reboot Verify with lsmod | grep nouveau. If no output, disabling was successful.\nInstall Driver Check GPU model: lspci | grep -i nvidia\nDownload driver: NVIDIA Driver\nFor A800/V100 with CUDA12.6: Data Center Driver for Linux x64 560.35.03 | Linux 64-bit | NVIDIA\nUninstall Driver 1 sudo /usr/bin/nvidia-uninstall Install CUDA Download CUDA: CUDA Toolkit 12.6 Update 3\nCUDA Toolkit archive: CUDA Toolkit Archive\nNVCC requires the full CUDA toolkit. Download the appropriate version from the official site (preferably via runfile/local). Use commands like wget and sudo sh:\n1 2 3 # Example for CUDA Toolkit 12.2 wget https://developer.download.nvidia.com/compute/cuda/12.9.1/local_installers/cuda_12.9.1_575.57.08_linux.run sudo sh cuda_12.9.1_575.57.08_linux.run No need to reinstall the driver. After installation, add environment variables:\n1 2 3 echo \u0026#39;export PATH=/usr/local/cuda-12.2/bin:$PATH\u0026#39; \u0026gt;\u0026gt; ~/.bashrc echo \u0026#39;export LD_LIBRARY_PATH=/usr/local/cuda-12.2/lib64:$LD_LIBRARY_PATH\u0026#39; \u0026gt;\u0026gt; ~/.bashrc source ~/.bashrc To access /usr/local/cuda by default, create a symlink:\n1 2 3 4 sudo ln -s /usr/local/cuda-12.2 /usr/local/cuda echo \u0026#39;export PATH=/usr/local/cuda/bin:$PATH\u0026#39; \u0026gt;\u0026gt; ~/.bashrc echo \u0026#39;export LD_LIBRARY_PATH=/usr/local/cuda/lib64:$LD_LIBRARY_PATH\u0026#39; \u0026gt;\u0026gt; ~/.bashrc source ~/.bashrc ","date":"2025-04-23T00:00:00Z","image":"https://kambri.top/p/ops/img/cover_hu_b3cf35a0855a47e2.png","permalink":"https://kambri.top/en/p/ops/","title":"High-Performance Cluster Operations and Maintenance ‚Äî Installation"},{"content":" ‚ö†Ô∏è Please note that the content here was translated by a large language model.\nThis blog post introduces the commonly used cluster version management software MODULES, as well as two implementations of MPI (UCX+OpenMPI/MPICH), and the installation and configuration of Intel oneAPI. MODULES (latest version released in November 2024) has complex software dependencies and requires modulefiles written in TCL (which can be addressed with generative AI). In the future, there will be opportunities to learn a more user-friendly alternative like spack.\nMODULES (v5.4.0) References TCL Official Website\nMODULES Installation Documentation\nGCC Official Mirror Site\nGCC Build Guide\n[ Module ] Environment Variable Management Tool Modules Installation and Usage - YEUNGCHIE\nmodule Usage - PKU High-Performance Computing Public Platform User Documentation\nInstallation Dependencies TCL (\u0026gt;=v8.5) 1 2 3 4 5 6 7 8 9 sudo wget http://prdownloads.sourceforge.net/tcl/tcl8.6.14-src.tar.gz sudo tar -zxvf tcl8.6.14-src.tar.gz cd tcl8.6.14/unix sudo ./configure --prefix=/usr/local sudo make sudo make install sudo whereis tcl sudo ln /usr/local/bin/tclsh8.6 /usr/bin/tclsh GMP 1 2 3 4 5 6 7 8 sudo wget ftp://ftp.gnu.org/gnu/gmp/gmp-5.0.1.tar.bz2 sudo tar -vxf gmp-5.0.1.tar.bz2 cd gmp-5.0.1/ sudo ./configure --prefix=/usr/local/gmp-5.0.1 sudo make sudo make install sudo make check \u0026gt;\u0026gt;\u0026gt; All 30 tests passed... MPFR (buggy but acceptable) 1 2 3 4 5 6 sudo wget https://ftp.gnu.org/gnu/mpfr/mpfr-3.1.5.tar.xz sudo tar -vxf mpfr-3.1.5.tar.xz cd mpfr-3.1.5/ sudo ./configure --prefix=/usr/local/mpfr-3.1.5 --with-gmp=/usr/local/gmp-5.0.1 sudo make sudo make install MPC 1 2 3 4 5 6 sudo wget http://www.multiprecision.org/downloads/mpc-0.9.tar.gz sudo tar -vxf mpc-0.9.tar.gz cd mpc-0.9/ sudo ./configure --prefix=/usr/local/mpc-0.9 --with-gmp=/usr/local/gmp-5.0.1/ --with-mpfr=/usr/local/mpfr-3.1.5/ sudo make sudo make install Installing MODULES 1 2 3 4 5 6 7 8 9 sudo curl -LJO https://github.com/cea-hpc/modules/releases/download/v5.4.0/modules-5.4.0.tar.gz sudo tar xfz modules-5.4.0.tar.gz sudo ./configure --with-tcl=/usr/local/lib --prefix=/home/Modules --modulefilesdir=/home/modulefiles sudo make sudo make install sudo ln -s /home/Modules/init/profile.sh /etc/profile.d/module.sh sudo ln -s /home/Modules/init/profile.csh /etc/profile.d/module.csh source /home/Modules/init/profile.sh # Recommended to add to /etc/profile, otherwise manual initialization (`source /home/Modules/init/profile.sh`) is needed each time you enter the shell Note: Due to certain special reasons, we have to install MODULES and other software in the /home directory. /home/moduledownload/ temporarily stores installation packages for TCL (8.6) and MODULE (5.4.0). /home/Module/ contains the actual Module files, including initialization files (with symbolic links). /home/modulefiles/ stores version files for various software (second-level directory is software name, third-level is version number text). /home/apps/ stores the actual software.\nMPI References MPICH Official Mirror Site\nOpenMPI v5.0.0\nUCX Repository\nDetailed Guide to Building and Installing UCX 1.15.0 and OpenMPI 5.0.0\nInstalling UCX (optional) Unified Communication X 1 2 3 4 5 6 7 wget https://github.com/openucx/ucx/releases/download/v1.15.0/ucx-1.15.0.tar.gz tar -xvzf ucx-1.15.0.tar.gz cd ucx-1.15.0 mkdir build \u0026amp; cd build ../configure --prefix=/home/zhengkaige/ucx make -j N make install Installing MPICH (v4.2.2) 1 2 3 4 5 tar -xvzf mpich-4.2.2.tar.gz cd mpich-4.2.2 ./configure --prefix=/home/apps/MPICH/4.2.2 make make install You may encounter an error: configure: error: UCX installation does not meet minimum version requirement (v1.9.0). Please upgrade your installation, or use --with-ucx=embedded.\nInstalling OpenMPI (v5.0.0) 1 2 3 4 wget https://download.open-mpi.org/release/open-mpi/v5.0/openmpi-5.0.0.tar.gz tar -xzvf openmpi-5.0.0.tar.gz cd openmpi-5.0.0 mkdir build \u0026amp;\u0026amp; cd build vim ~/.bashrc\n1 2 export PATH=/home/kambri/software/openmpi/5.0.0-ucx-1.15.0/bin:$PATH export LD_LIBRARY_PATH=/home/kambri/software/openmpi/5.0.0-ucx-1.15.0/lib:$LD_LIBRARY_PATH Writing Modulefile 1 2 3 4 5 6 #%Module set version 4.2.2 set MPI_HOME /home/apps/MPICH/4.2.2 prepend-path PATH \u0026#34;${MPI_HOME}/bin\u0026#34; prepend-path LD_LIBRARY_PATH \u0026#34;${MPI_HOME}/lib\u0026#34; prepend-path MANPATH \u0026#34;${MPI_HOME}/share/man\u0026#34; Intel oneAPI References Developer Toolkits\nGet the Intel¬Æ oneAPI Base Toolkit\nGet Intel¬Æ oneAPI HPC Toolkit\nIntel oneAPI Mirror Site\nInstalling Intel oneAPI (v2025.0 including Base Toolkit and HPC Toolkit) Follow the official offline installation method. Note that when Intel updates oneAPI, the old version interface will be removed, so installing older versions relies on mirror sites and other sources. However, new versions may not be user-friendly; for example, in 2025.0, mpiicc still uses icc as the compiler, but in 2025.0 (including late 2023 versions and 2024.x), the suite no longer includes icc. icc was removed in the oneAPI released in the second half of 2023.\n1 2 3 4 5 6 # install base toolkit wget https://registrationcenter-download.intel.com/akdlm/IRC_NAS/dfc4a434-838c-4450-a6fe-2fa903b75aa7/intel-oneapi-base-toolkit-2025.0.1.46_offline.sh sudo sh ./intel-oneapi-base-toolkit-2025.0.1.46_offline.sh -a --silent --cli --eula accept # install HPC toolkit wget https://registrationcenter-download.intel.com/akdlm/IRC_NAS/b7f71cf2-8157-4393-abae-8cea815509f7/intel-oneapi-hpc-toolkit-2025.0.1.47_offline.sh sudo sh ./intel-oneapi-hpc-toolkit-2025.0.1.47_offline.sh -a --silent --cli --eula accept ","date":"2025-05-11T00:00:00Z","image":"https://kambri.top/p/ops_2/img/cover2_hu_c3ff04135ea44c30.png","permalink":"https://kambri.top/en/p/ops_2/","title":"High-Performance Cluster Operations ‚Äî Software Environment (Modules, MPI, oneAPI)"}]