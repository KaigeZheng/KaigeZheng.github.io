<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="Operations and Maintenance Notes (Part 2)"><title>High-Performance Cluster Operations ‚Äî Software Environment (Modules, MPI, oneAPI)</title><link rel=canonical href=https://kambri.top/en/p/ops_2/><link rel=stylesheet href=/scss/style.min.5ddd542b2cd6066914e4a64996346500a32dfd34939de4daba8897189d97b3b0.css><meta property='og:title' content="High-Performance Cluster Operations ‚Äî Software Environment (Modules, MPI, oneAPI)"><meta property='og:description' content="Operations and Maintenance Notes (Part 2)"><meta property='og:url' content='https://kambri.top/en/p/ops_2/'><meta property='og:site_name' content="Kambri's Blog"><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='Technology'><meta property='article:tag' content='Operations and Maintenance'><meta property='article:published_time' content='2025-05-11T00:00:00+00:00'><meta property='article:modified_time' content='2025-05-11T00:00:00+00:00'><meta property='og:image' content='https://kambri.top/p/ops_2/img/cover2.png'><meta name=twitter:title content="High-Performance Cluster Operations ‚Äî Software Environment (Modules, MPI, oneAPI)"><meta name=twitter:description content="Operations and Maintenance Notes (Part 2)"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://kambri.top/p/ops_2/img/cover2.png'><link rel="shortcut icon" href=/favicon.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/en/><img src=/img/avatar_hu_98fe1fefb25c1393.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>ü´†</span></figure><div class=site-meta><h1 class=site-name><a href=/en>Kambri's Blog</a></h1><h2 class=site-description>Hello! This is Kambri's blog where I share my technical experiences and life moments.</h2></div></header><ol class=menu-social><li><a href=https://github.com/KaigeZheng target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=mailto:kambrikg@gmail.com target=_blank title=Email rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-mail"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 7a2 2 0 012-2h14a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V7z"/><path d="M3 7l9 6 9-6"/></svg></a></li><li><a href=https://www.linkedin.com/in/kgzheng target=_blank title=LinkedIn rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-linkedin"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M8 11v5"/><path d="M8 8v.01"/><path d="M12 16v-5"/><path d="M16 16v-3a2 2 0 10-4 0"/><path d="M3 7a4 4 0 014-4h10a4 4 0 014 4v10a4 4 0 01-4 4H7a4 4 0 01-4-4V7"/></svg></a></li><li><a href=https://kaigezheng.github.io/index.xml target=_blank title=RSS rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-rss"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 19m-1 0a1 1 0 102 0 1 1 0 10-2 0"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/en/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/en/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span></a></li><li><a href=/en/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archive</span></a></li><li><a href=/en/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/en/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Link</span></a></li><li class=menu-bottom-section><ol class=menu><li id=i18n-switch><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg>
<select name=language title=language onchange="window.location.href=this.selectedOptions[0].value"><option value=https://kambri.top/>ÁÆÄ‰Ωì‰∏≠Êñá</option><option value=https://kambri.top/en/ selected>English</option><option value=https://kambri.top/ja/>Êó•Êú¨Ë™û</option></select></li><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#modules-v540>MODULES (v5.4.0)</a><ol><li><a href=#references>References</a></li><li><a href=#installation-dependencies>Installation Dependencies</a><ol><li><a href=#tcl-v85>TCL (>=v8.5)</a></li><li><a href=#gmp>GMP</a></li><li><a href=#mpfr-buggy-but-acceptable>MPFR (buggy but acceptable)</a></li><li><a href=#mpc>MPC</a></li></ol></li><li><a href=#installing-modules>Installing MODULES</a></li></ol></li><li><a href=#mpi>MPI</a><ol><li><a href=#references-1>References</a></li><li><a href=#installing-ucx-optional>Installing UCX (optional)</a></li><li><a href=#installing-mpich-v422>Installing MPICH (v4.2.2)</a></li><li><a href=#installing-openmpi-v500>Installing OpenMPI (v5.0.0)</a></li><li><a href=#writing-modulefile>Writing Modulefile</a></li></ol></li><li><a href=#intel-oneapi>Intel oneAPI</a><ol><li><a href=#references-2>References</a></li><li><a href=#installing-intel-oneapi-v20250-including-base-toolkit-and-hpc-toolkit>Installing Intel oneAPI (v2025.0 including Base Toolkit and HPC Toolkit)</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/en/p/ops_2/><img src=/p/ops_2/img/cover2_hu_96489cbeefa00574.png srcset="/p/ops_2/img/cover2_hu_96489cbeefa00574.png 800w, /p/ops_2/img/cover2_hu_ec9e0133071c6c8.png 1600w" width=800 height=600 loading=lazy alt="Featured image of post High-Performance Cluster Operations ‚Äî Software Environment (Modules, MPI, oneAPI)"></a></div><div class=article-details><header class=article-category><a href=/en/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/ style=background-color:;color:>Technical Documentation</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/en/p/ops_2/>High-Performance Cluster Operations ‚Äî Software Environment (Modules, MPI, oneAPI)</a></h2><h3 class=article-subtitle>Operations and Maintenance Notes (Part 2)</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published datetime=2025-05-11T00:00:00Z>May 11, 2025</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>2 minutes read</time></div></footer><footer class=article-translations><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg><div><a href=https://kambri.top/p/ops_2/ class=link>ÁÆÄ‰Ωì‰∏≠Êñá</a>
<a href=https://kambri.top/ja/p/ops_2/ class=link>Êó•Êú¨Ë™û</a></div></footer></div></header><section class=article-content><blockquote><p>‚ö†Ô∏è Please note that the content here was translated by a large language model.</p></blockquote><p>This blog post introduces the commonly used cluster version management software MODULES, as well as two implementations of MPI (UCX+OpenMPI/MPICH), and the installation and configuration of Intel oneAPI. MODULES (latest version released in November 2024) has complex software dependencies and requires modulefiles written in TCL (which can be addressed with generative AI). In the future, there will be opportunities to learn a more user-friendly alternative like spack.</p><h2 id=modules-v540>MODULES (v5.4.0)</h2><p><img src=/p/ops_2/img/1.png width=423 height=135 srcset="/p/ops_2/img/1_hu_6b9a266d4a59a1f4.png 480w, /p/ops_2/img/1_hu_8720d42839a3a9c4.png 1024w" loading=lazy alt="ENVIRONMENT MODULES" class=gallery-image data-flex-grow=313 data-flex-basis=752px></p><h3 id=references>References</h3><p><a class=link href=https://www.tcl.tk/ target=_blank rel=noopener>TCL Official Website</a></p><p><a class=link href=https://modules.readthedocs.io/en/latest/INSTALL.html#installation-instructions target=_blank rel=noopener>MODULES Installation Documentation</a></p><p><a class=link href=https://gcc.gnu.org/mirrors.html target=_blank rel=noopener>GCC Official Mirror Site</a></p><p><a class=link href=https://gcc.gnu.org/install/build.html target=_blank rel=noopener>GCC Build Guide</a></p><hr><p><a class=link href=https://www.cnblogs.com/yeungchie/p/16268954.html target=_blank rel=noopener>[ Module ] Environment Variable Management Tool Modules Installation and Usage - YEUNGCHIE</a></p><p><a class=link href="https://hpc.pku.edu.cn/ug/guide/module/#:~:text=Module%E4%BD%BF%E7%94%A8" target=_blank rel=noopener>module Usage - PKU High-Performance Computing Public Platform User Documentation</a></p><h3 id=installation-dependencies>Installation Dependencies</h3><h4 id=tcl-v85>TCL (>=v8.5)</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo wget http://prdownloads.sourceforge.net/tcl/tcl8.6.14-src.tar.gz
</span></span><span class=line><span class=cl>sudo tar -zxvf tcl8.6.14-src.tar.gz
</span></span><span class=line><span class=cl><span class=nb>cd</span> tcl8.6.14/unix
</span></span><span class=line><span class=cl>sudo ./configure --prefix<span class=o>=</span>/usr/local
</span></span><span class=line><span class=cl>sudo make
</span></span><span class=line><span class=cl>sudo make install
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>sudo whereis tcl
</span></span><span class=line><span class=cl>sudo ln /usr/local/bin/tclsh8.6 /usr/bin/tclsh
</span></span></code></pre></td></tr></table></div></div><h4 id=gmp>GMP</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo wget ftp://ftp.gnu.org/gnu/gmp/gmp-5.0.1.tar.bz2
</span></span><span class=line><span class=cl>sudo tar -vxf gmp-5.0.1.tar.bz2
</span></span><span class=line><span class=cl><span class=nb>cd</span> gmp-5.0.1/
</span></span><span class=line><span class=cl>sudo ./configure --prefix<span class=o>=</span>/usr/local/gmp-5.0.1
</span></span><span class=line><span class=cl>sudo make
</span></span><span class=line><span class=cl>sudo make install
</span></span><span class=line><span class=cl>sudo make check
</span></span><span class=line><span class=cl>&gt;&gt;&gt; All <span class=m>30</span> tests passed...
</span></span></code></pre></td></tr></table></div></div><h4 id=mpfr-buggy-but-acceptable>MPFR (buggy but acceptable)</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo wget https://ftp.gnu.org/gnu/mpfr/mpfr-3.1.5.tar.xz
</span></span><span class=line><span class=cl>sudo tar -vxf mpfr-3.1.5.tar.xz
</span></span><span class=line><span class=cl><span class=nb>cd</span> mpfr-3.1.5/
</span></span><span class=line><span class=cl>sudo ./configure --prefix<span class=o>=</span>/usr/local/mpfr-3.1.5 --with-gmp<span class=o>=</span>/usr/local/gmp-5.0.1
</span></span><span class=line><span class=cl>sudo make
</span></span><span class=line><span class=cl>sudo make install
</span></span></code></pre></td></tr></table></div></div><h4 id=mpc>MPC</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo wget http://www.multiprecision.org/downloads/mpc-0.9.tar.gz
</span></span><span class=line><span class=cl>sudo tar -vxf mpc-0.9.tar.gz
</span></span><span class=line><span class=cl><span class=nb>cd</span> mpc-0.9/
</span></span><span class=line><span class=cl>sudo ./configure --prefix<span class=o>=</span>/usr/local/mpc-0.9 --with-gmp<span class=o>=</span>/usr/local/gmp-5.0.1/ --with-mpfr<span class=o>=</span>/usr/local/mpfr-3.1.5/
</span></span><span class=line><span class=cl>sudo make
</span></span><span class=line><span class=cl>sudo make install
</span></span></code></pre></td></tr></table></div></div><h3 id=installing-modules>Installing MODULES</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo curl -LJO https://github.com/cea-hpc/modules/releases/download/v5.4.0/modules-5.4.0.tar.gz
</span></span><span class=line><span class=cl>sudo tar xfz modules-5.4.0.tar.gz
</span></span><span class=line><span class=cl>sudo ./configure --with-tcl<span class=o>=</span>/usr/local/lib --prefix<span class=o>=</span>/home/Modules --modulefilesdir<span class=o>=</span>/home/modulefiles
</span></span><span class=line><span class=cl>sudo make
</span></span><span class=line><span class=cl>sudo make install
</span></span><span class=line><span class=cl>sudo ln -s /home/Modules/init/profile.sh /etc/profile.d/module.sh
</span></span><span class=line><span class=cl>sudo ln -s /home/Modules/init/profile.csh /etc/profile.d/module.csh
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>source</span> /home/Modules/init/profile.sh  <span class=c1># Recommended to add to /etc/profile, otherwise manual initialization (`source /home/Modules/init/profile.sh`) is needed each time you enter the shell</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p><strong>Note</strong>: Due to certain special reasons, we have to install MODULES and other software in the <code>/home</code> directory.
<code>/home/moduledownload/</code> temporarily stores installation packages for TCL (8.6) and MODULE (5.4.0).
<code>/home/Module/</code> contains the actual Module files, including initialization files (with symbolic links).
<code>/home/modulefiles/</code> stores version files for various software (second-level directory is software name, third-level is version number text).
<code>/home/apps/</code> stores the actual software.</p></blockquote><h2 id=mpi>MPI</h2><h3 id=references-1>References</h3><p><a class=link href=https://www.mpich.org/static/downloads/ target=_blank rel=noopener>MPICH Official Mirror Site</a></p><p><a class=link href=https://download.open-mpi.org/release/open-mpi/v5.0/openmpi-5.0.0.tar.gz target=_blank rel=noopener>OpenMPI v5.0.0</a></p><p><a class=link href=https://github.com/openucx/ucx target=_blank rel=noopener>UCX Repository</a></p><hr><p><a class=link href=https://cuterwrite.top/p/openmpi-with-ucx/ target=_blank rel=noopener>Detailed Guide to Building and Installing UCX 1.15.0 and OpenMPI 5.0.0</a></p><h3 id=installing-ucx-optional>Installing UCX (optional)</h3><figure><img src=/p/ops_2/img/2.png width='200px"'><figcaption><h4>Unified Communication X</h4></figcaption></figure><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>wget https://github.com/openucx/ucx/releases/download/v1.15.0/ucx-1.15.0.tar.gz
</span></span><span class=line><span class=cl>tar -xvzf ucx-1.15.0.tar.gz
</span></span><span class=line><span class=cl><span class=nb>cd</span> ucx-1.15.0
</span></span><span class=line><span class=cl>mkdir build <span class=p>&amp;</span> <span class=nb>cd</span> build
</span></span><span class=line><span class=cl>../configure --prefix<span class=o>=</span>/home/zhengkaige/ucx
</span></span><span class=line><span class=cl>make -j N
</span></span><span class=line><span class=cl>make install
</span></span></code></pre></td></tr></table></div></div><h3 id=installing-mpich-v422>Installing MPICH (v4.2.2)</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>tar -xvzf mpich-4.2.2.tar.gz
</span></span><span class=line><span class=cl><span class=nb>cd</span> mpich-4.2.2
</span></span><span class=line><span class=cl>./configure --prefix<span class=o>=</span>/home/apps/MPICH/4.2.2
</span></span><span class=line><span class=cl>make
</span></span><span class=line><span class=cl>make install
</span></span></code></pre></td></tr></table></div></div><p>You may encounter an error: <code>configure: error: UCX installation does not meet minimum version requirement (v1.9.0). Please upgrade your installation, or use --with-ucx=embedded.</code></p><h3 id=installing-openmpi-v500>Installing OpenMPI (v5.0.0)</h3><p><img src=/p/ops_2/img/3.png width=1110 height=198 srcset="/p/ops_2/img/3_hu_f22737ea3fc3efd9.png 480w, /p/ops_2/img/3_hu_5aa6261488386eb7.png 1024w" loading=lazy alt=OpenMPI class=gallery-image data-flex-grow=560 data-flex-basis=1345px></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>wget https://download.open-mpi.org/release/open-mpi/v5.0/openmpi-5.0.0.tar.gz
</span></span><span class=line><span class=cl>tar -xzvf openmpi-5.0.0.tar.gz
</span></span><span class=line><span class=cl><span class=nb>cd</span> openmpi-5.0.0
</span></span><span class=line><span class=cl>mkdir build <span class=o>&amp;&amp;</span> <span class=nb>cd</span> build
</span></span></code></pre></td></tr></table></div></div><p><code>vim ~/.bashrc</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>export</span> <span class=nv>PATH</span><span class=o>=</span>/home/kambri/software/openmpi/5.0.0-ucx-1.15.0/bin:<span class=nv>$PATH</span>
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>LD_LIBRARY_PATH</span><span class=o>=</span>/home/kambri/software/openmpi/5.0.0-ucx-1.15.0/lib:<span class=nv>$LD_LIBRARY_PATH</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=writing-modulefile>Writing Modulefile</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-TCL data-lang=TCL><span class=line><span class=cl><span class=c>#%Module
</span></span></span><span class=line><span class=cl><span class=k>set</span> version <span class=mf>4.2</span>.2
</span></span><span class=line><span class=cl><span class=k>set</span> MPI_HOME <span class=o>/</span>home<span class=o>/</span>apps<span class=o>/</span>MPICH<span class=o>/</span><span class=mf>4.2</span>.2
</span></span><span class=line><span class=cl><span class=nv>prepend-path</span> PATH <span class=s2>&#34;${MPI_HOME}/bin&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>prepend-path</span> LD_LIBRARY_PATH <span class=s2>&#34;${MPI_HOME}/lib&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>prepend-path</span> MANPATH <span class=s2>&#34;${MPI_HOME}/share/man&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=intel-oneapi>Intel oneAPI</h2><h3 id=references-2>References</h3><p><a class=link href=https://www.intel.cn/content/www/cn/zh/developer/tools/oneapi/toolkits.html target=_blank rel=noopener>Developer Toolkits</a></p><p><a class=link href="https://www.intel.cn/content/www/cn/zh/developer/tools/oneapi/base-toolkit-download.html?packages=oneapi-toolkit&amp;oneapi-toolkit-os=linux" target=_blank rel=noopener>Get the Intel¬Æ oneAPI Base Toolkit</a></p><p><a class=link href="https://www.intel.cn/content/www/cn/zh/developer/tools/oneapi/hpc-toolkit-download.html?packages=hpc-toolkit&amp;hpc-toolkit-os=linux" target=_blank rel=noopener>Get Intel¬Æ oneAPI HPC Toolkit</a></p><p><a class=link href=https://get.hpc.dev/vault/intel/ target=_blank rel=noopener>Intel oneAPI Mirror Site</a></p><h3 id=installing-intel-oneapi-v20250-including-base-toolkit-and-hpc-toolkit>Installing Intel oneAPI (v2025.0 including Base Toolkit and HPC Toolkit)</h3><p><img src=/p/ops_2/img/4.png width=165 height=139 srcset="/p/ops_2/img/4_hu_1ecc03b3f532dd25.png 480w, /p/ops_2/img/4_hu_197907fd4b7b62e9.png 1024w" loading=lazy alt="Intel oneAPI" class=gallery-image data-flex-grow=118 data-flex-basis=284px></p><p>Follow the official offline installation method. Note that when Intel updates oneAPI, the old version interface will be removed, so installing older versions relies on mirror sites and other sources. However, new versions may not be user-friendly; for example, in 2025.0, <code>mpiicc</code> still uses <code>icc</code> as the compiler, but in 2025.0 (including late 2023 versions and 2024.x), the suite no longer includes <code>icc</code>. <code>icc</code> was removed in the oneAPI released in the second half of 2023.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># install base toolkit</span>
</span></span><span class=line><span class=cl>wget https://registrationcenter-download.intel.com/akdlm/IRC_NAS/dfc4a434-838c-4450-a6fe-2fa903b75aa7/intel-oneapi-base-toolkit-2025.0.1.46_offline.sh
</span></span><span class=line><span class=cl>sudo sh ./intel-oneapi-base-toolkit-2025.0.1.46_offline.sh -a --silent --cli --eula accept
</span></span><span class=line><span class=cl><span class=c1># install HPC toolkit</span>
</span></span><span class=line><span class=cl>wget https://registrationcenter-download.intel.com/akdlm/IRC_NAS/b7f71cf2-8157-4393-abae-8cea815509f7/intel-oneapi-hpc-toolkit-2025.0.1.47_offline.sh
</span></span><span class=line><span class=cl>sudo sh ./intel-oneapi-hpc-toolkit-2025.0.1.47_offline.sh -a --silent --cli --eula accept
</span></span></code></pre></td></tr></table></div></div></section><footer class=article-footer><section class=article-tags><a href=/en/tags/technology/>Technology</a>
<a href=/en/tags/operations-and-maintenance/>Operations and Maintenance</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8 crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{const e=[".main-article",".widget--toc"];e.forEach(e=>{const t=document.querySelector(e);t&&renderMathInElement(t,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],ignoredClasses:["gist"]})})})</script></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/en/p/ops/><div class=article-image><img src=/p/ops/img/cover.77bed8a766ebc514409b8f590553740d_hu_5979e47ce3c85d9b.png width=250 height=150 loading=lazy alt="Featured image of post High-Performance Cluster Operations and Maintenance ‚Äî Installation" data-key=ops data-hash="md5-d77Yp2brxRRAm49ZBVN0DQ=="></div><div class=article-details><h2 class=article-title>High-Performance Cluster Operations and Maintenance ‚Äî Installation</h2></div></a></article></div></div></aside><script src=https://utteranc.es/client.js repo=KaigeZheng/KaigeZheng.github.io issue-term=pathname label=comment crossorigin=anonymous async></script><style>.utterances{max-width:unset}</style><script>let utterancesLoaded=!1;function setUtterancesTheme(e){let t=document.querySelector(".utterances iframe");t&&t.contentWindow.postMessage({type:"set-theme",theme:`github-${e}`},"https://utteranc.es")}addEventListener("message",e=>{if(e.origin!=="https://utteranc.es")return;utterancesLoaded=!0,setUtterancesTheme(document.documentElement.dataset.scheme)}),window.addEventListener("onColorSchemeChange",e=>{if(!utterancesLoaded)return;setUtterancesTheme(e.detail)})</script><footer class=site-footer><section class=copyright>&copy;
2024 -
2026 Kaige ZHENG</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.33.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.c922af694cc257bf1ecc41c0dd7b0430f9114ec280ccf67cd2c6ad55f5316c4e.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>